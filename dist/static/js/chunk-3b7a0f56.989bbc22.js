(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b7a0f56"],{"06766":function(e,t,r){},"5e89":function(e,t,r){var a=r("861d"),l=Math.floor;e.exports=function(e){return!a(e)&&isFinite(e)&&l(e)===e}},"8ba4":function(e,t,r){var a=r("23e7"),l=r("5e89");a({target:"Number",stat:!0},{isInteger:l})},b56a:function(e,t,r){"use strict";r("06766")},d5c2:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-container"},[r("el-form",{ref:"ruleForm",staticClass:"bg-reg",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"username"}},[r("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"pass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off","show-password":"",placeholder:"请输入密码"},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}})],1),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off","show-password":"",placeholder:"请再次输入密码"},model:{value:e.ruleForm.checkPass,callback:function(t){e.$set(e.ruleForm,"checkPass",t)},expression:"ruleForm.checkPass"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱地址"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),r("el-form-item",{attrs:{label:"验证码",prop:"code"}},[r("el-input",{attrs:{clearable:"",placeholder:"请输入验证码"},model:{value:e.ruleForm.code,callback:function(t){e.$set(e.ruleForm,"code",t)},expression:"ruleForm.code"}},[r("el-button",{attrs:{slot:"append",type:"info",disabled:e.canClick},on:{click:e.getCode},slot:"append"},[e._v(" "+e._s(e.content)+" ")])],1)],1),r("el-row",{attrs:{gutter:0}},[r("el-col",{attrs:{span:14}},[r("el-form-item",{attrs:{label:"部门/职位",prop:"department"}},[r("el-select",{attrs:{placeholder:"请选择所在部门"},model:{value:e.ruleForm.department,callback:function(t){e.$set(e.ruleForm,"department",t)},expression:"ruleForm.department"}},[r("el-option",{attrs:{label:"财务部",value:"财务部"}}),r("el-option",{attrs:{label:"技术部",value:"技术部"}}),r("el-option",{attrs:{label:"后勤部",value:"后勤部"}}),r("el-option",{attrs:{label:"营销部",value:"营销部"}}),r("el-option",{attrs:{label:"人力资源部",value:"人力资源部"}})],1)],1)],1),r("el-col",{attrs:{span:10}},[r("el-form-item",{attrs:{prop:"identity","label-width":"30px"}},[r("el-select",{attrs:{placeholder:"请选择当前职位"},model:{value:e.ruleForm.identity,callback:function(t){e.$set(e.ruleForm,"identity",t)},expression:"ruleForm.identity"}},[r("el-option",{attrs:{label:"员工",value:"员工"}}),r("el-option",{attrs:{label:"小组长",value:"小组长"}}),r("el-option",{attrs:{label:"主管",value:"主管"}}),r("el-option",{attrs:{label:"老板",value:"老板"}})],1)],1)],1)],1),r("el-form-item",[r("el-col",{attrs:{span:8}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("注册")])],1),r("el-col",{attrs:{span:8}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.ReturnLogin()}}},[e._v("返回")])],1),r("el-col",{attrs:{span:8}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)},l=[],s=(r("8ba4"),r("a9e3"),r("bc3a")),o=r.n(s),n={name:"Register",data:function(){var e=this,t=function(e,t,r){if(!t)return r(new Error("年龄不能为空"));setTimeout((function(){Number.isInteger(t)?t<18?r(new Error("必须年满18岁")):r():r(new Error("请输入数字值"))}),1e3)},r=function(t,r,a){""===r?a(new Error("请输入密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),a())},a=function(t,r,a){""===r?a(new Error("请再次输入密码")):r!==e.ruleForm.pass?a(new Error("两次输入密码不一致!")):a()};return{content:"发送验证码",totalTime:10,canClick:!1,ruleForm:{username:"",pass:"",checkPass:"",email:"",code:"",department:"",identity:""},rules:{username:[{required:!0,message:"请输入用户名称",trigger:"blur"},{min:3,max:15,message:"长度在 3 到 15 个字符",trigger:"blur"}],pass:[{validator:r,trigger:"blur"}],checkPass:[{validator:a,trigger:"blur"}],age:[{validator:t,trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],code:[{required:!0,message:"请输入邮箱验证码",trigger:"blur"},{min:6,max:6,message:"验证码长度为6",trigger:"blur"}],department:[{required:!0,message:"请选择部门",trigger:"blur"}],identity:[{required:!0,message:"请选择职位",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this,r="http://127.0.0.1:5000/User/Register";this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;o.a.post(r,t.ruleForm).then((function(e){"codeError"===e.data?t.$message({message:"验证码错误!",center:!0,type:"error"}):"注册成功"===e.data.msg?(t.$message({message:"恭喜你,注册成功!",center:!0,type:"success"}),t.$router.push({path:"/"})):t.$message({message:"改账号已经存在!",center:!0,type:"warning"})}))}))},resetForm:function(e){this.$refs[e].resetFields()},getCode:function(){var e=this;if(this.ruleForm.email){if(this.canClick)return;this.$message({message:"验证码发送成功!",center:!0,type:"success"});var t="http://127.0.0.1:5000/User/SendMail";o.a.post(t,{mail:this.ruleForm.email}),this.canClick=!0,this.content=this.totalTime+"s后重新发送";var r=window.setInterval((function(){e.totalTime--,e.content=e.totalTime+"s后重新发送",e.totalTime<0&&(window.clearInterval(r),e.content="重新发送验证码",e.totalTime=10,e.canClick=!1)}),1e3)}else this.$message({message:"邮箱未输入，请输入邮箱！",center:!0,type:"error"})},ReturnLogin:function(){this.$router.push({name:"Login"})}}},i=n,u=(r("b56a"),r("2877")),c=Object(u["a"])(i,a,l,!1,null,null,null);t["default"]=c.exports}}]);